#PRIVATEs USER MAIN
RULE_TARGET_DIR := $(TARGET_DIR)
RULE_TARGET_DEPEND := main.o main.elf main.bin
RULE_TARGET := _user
RULE_ENTRY := _start
OS_TARGET_DIR := $(TARGET_DIR)\OS
HAL_TARGET_DIR += $(TARGET_DIR)\OS\hal
KERNEL_TARGET_DIR += $(TARGET_DIR)\OS\kernel
KLIB_TARGET_DIR += $(TARGET_DIR)\OS\kernel\lib
CRLIB_TARGET_DIR += $(TARGET_DIR)\OS\lib\crlib
ARCH_TARGET_DIR := $(TARGET_DIR)\OS\arch\ok6410

RULE_LINK_FILE := $(ARCH_TARGET_DIR)\start.o
RULE_LINK_FILE += $(TARGET_DIR)\main.o
RULE_LINK_FILE += $(HAL_TARGET_DIR)\hal_int.o
RULE_LINK_FILE += $(HAL_TARGET_DIR)\hal_debug.o
RULE_LINK_FILE += $(HAL_TARGET_DIR)\hal_context.o
RULE_LINK_FILE += $(HAL_TARGET_DIR)\hal_init.o

RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\base_obj.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\blockQ.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\cpu.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\interrupt.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\ipi.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\kernel.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\memory.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\msg_box.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\osinit.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\pend_obj.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\rt_sched.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\rtbf_thread.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\semaphore.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\thread.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\tick.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\prioQ.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\idle_thread.o
RULE_LINK_FILE += $(KERNEL_TARGET_DIR)\error.o

RULE_LINK_FILE += $(KLIB_TARGET_DIR)\timer.o
RULE_LINK_FILE += $(KLIB_TARGET_DIR)\xtime.o

RULE_LINK_FILE += $(CRLIB_TARGET_DIR)\math.o
RULE_LINK_FILE += $(CRLIB_TARGET_DIR)\mem.o
RULE_LINK_FILE += $(CRLIB_TARGET_DIR)\priobmp.o
RULE_LINK_FILE += $(CRLIB_TARGET_DIR)\string.o
RULE_LINK_FILE += $(CRLIB_TARGET_DIR)\wheellist.o

RULE_LINK_FILE += $(ARCH_TARGET_DIR)\built_in_func.o
RULE_LINK_FILE += $(ARCH_TARGET_DIR)\low_level.o
RULE_LINK_FILE += $(ARCH_TARGET_DIR)\arch_exception.o
RULE_LINK_FILE += $(ARCH_TARGET_DIR)\arch_context.o
RULE_LINK_FILE += $(ARCH_TARGET_DIR)\gptimer.o
RULE_LINK_FILE += $(ARCH_TARGET_DIR)\arch_tick.o

include $(RULE_DIR)\rule.mk